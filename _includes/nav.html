{%- comment -%}
  Override of theme navbar: show image logo if site.logo.path is set,
  otherwise fall back to site.title text.
{%- endcomment -%}

<nav class="navbar navbar-expand-lg navbar-dark fixed-top" id="mainNav">
  <div class="container">

    {% if site.logo and site.logo.path %}
      <a class="navbar-brand js-scroll-trigger" href="#page-top">
        <img src="{{ site.logo.path | relative_url }}"
             alt="{{ site.title | escape }}"
             height="{{ site.logo.height | default: 52 }}">
      </a>
    {% else %}
      <a class="navbar-brand js-scroll-trigger" href="#page-top">{{ site.title }}</a>
    {% endif %}

    <button class="navbar-toggler navbar-toggler-right" type="button"
            data-toggle="collapse" data-target="#navbarResponsive"
            aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
      Menu <i class="fas fa-bars"></i>
    </button>

    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav text-uppercase ml-auto">
        {%- assign loc = site.locale | default: 'en' -%}
        {%- for item in site.data.navigation[loc].nav -%}
          {%- if item.section -%}
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="{{ '#'+item.section }}">{{ item.title }}</a>
            </li>
          {%- elsif item.url -%}
            <li class="nav-item">
              <a class="nav-link" href="{{ item.url }}">{{ item.title }}</a>
            </li>
          {%- endif -%}
        {%- endfor -%}
      </ul>
    </div>

  </div>
</nav>
